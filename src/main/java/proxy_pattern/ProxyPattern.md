# 代理模式 Proxy Pattern

代理模式的结构通常包括三个角色：

抽象主题（Subject）：定义了真实主题和代理之间的共同接口，也就是代理所需要实现的接口。客户端通过该接口访问真实主题和代理。

真实主题（RealSubject）：定义真实主题所具有的功能，也就是代理所要代表的主题。

代理（Proxy）：实现了抽象主题的接口，并持有一个真实主题的引用。代理负责管理真实主题的创建、销毁和访问，通常在客户端调用真实主题之前或之后，会执行一些附加的操作，对真实主题进行控制或增强。

---
Java中代理模式的实现有两种方式：
- 静态代理：在编译时就已经确定了代理类和真实类的关系。静态代理通常需要为每一个真实对象创建一个代理对象，因此当真实对象比较多时，会导致代码冗余。
- 动态代理：在运行时根据需要动态地创建代理类。相对于静态代理，动态代理更加灵活，可以减少代码冗余，但也需要更多的开发工作。Java中提供了两种动态代理的方式：JDK动态代理和CGLIB动态代理。


动态代理适用于以下情况：
- 对象结构比较复杂，手动编写代理类比较困难；
- 需要对多个对象进行代理操作，手动编写代理类比较繁琐；
- 在不修改实际对象的情况下添加一些额外的功能，例如日志记录、性能监控等。